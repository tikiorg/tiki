contributor:
$Author: michael_davey $

revision:
$Revision: 1.8 $

lastmodif:
$Date: 2005-10-11 13:18:15 $

files: 
features/solve/solve.php solve.php
features/solve/styles/napkin.css styles/napkin.css
features/solve/styles/napkin/images/napkin.jpg styles/napkin/images/napkin.jpg
features/solve/templates/styles/napkin/header.tpl templates/styles/napkin/header.tpl
features/solve/templates/styles/napkin/solve-bugs.tpl templates/styles/napkin/solve-bugs.tpl
features/solve/templates/styles/napkin/solve-bugs_list.tpl templates/styles/napkin/solve-bugs_list.tpl
features/solve/templates/styles/napkin/solve-cases.tpl templates/styles/napkin/solve-cases.tpl
features/solve/templates/styles/napkin/solve-cases_list.tpl templates/styles/napkin/solve-cases_list.tpl
features/solve/templates/styles/napkin/solve-top_nav.tpl templates/styles/napkin/solve-top_nav.tpl
features/solve/templates/styles/napkin/tiki-login.tpl templates/styles/napkin/tiki-login.tpl
features/solve/templates/styles/napkin/tiki-register.tpl templates/styles/napkin/tiki-register.tpl
features/solve/templates/styles/napkin/tiki-remind_password.tpl templates/styles/tiki-remind_password.tpl
features/solve/templates/styles/napkin/modules/mod-login_box.tpl templates/styles/napkin/modules/mod-login_box.tpl
features/solve/lib/solve/configuration.php lib/solve/configuration.php
features/solve/lib/solve/presentation.php lib/solve/presentation.php
features/solve/lib/solve/solvelib.php lib/solve/solvelib.php
features/solve/lib/solve/solvebugs.php lib/solve/solvebugs.php
features/solve/lib/solve/solvecases.php lib/solve/solvecases.php
features/solve/lib/vtigerregistrationlib.php lib/registration/vtigerregistrationlib.php
features/solve/db/vtiger_portal_bug_fields.php lib/solve/db/vtiger_portal_bug_fields.php
features/solve/db/vtiger_portal_case_fields.php lib/solve/db/vtiger_portal_case_fields.php
features/solve/db/vtiger_portal_configuration.php lib/solve/db/vtiger_portal_configuration.php

Configuration:
<b>Server</b><br />The complete URI for the soap.php file in your vtiger installation.,soap_serv,http://www.example.com/vtiger/soap.php
<b>Username</b><br />The username that you will use to connect to vtiger.,soap_user,portal
<b>Password</b><br />The password for the user denoted by 'Username' in the vtiger installation.,soap_pass,

author:
mdavey

licence:
GNU/LGPL

Description: 
Tiki Helpdesk/CRM portal

Changelog:
1.1 initial package
1.2 dependency checking
1.3 tweaks
1.4 mods configuration
1.5 add and remove permissions
1.6 additional column for tiki_events
1.7 tweak bugs.release_name not searchable
1.8 remove join box

sql-install:
INSERT IGNORE INTO `users_permissions` ( `permName` , `permDesc` , `level` , `type` ) VALUES ( 'vtiger_p_list_bugs', 'Can see a list of their own vtiger bugs', 'registered', 'vtiger'), ( 'vtiger_p_list_cases', 'Can see a list of their own vtiger cases', 'registered', 'vtiger'), ( 'vtiger_p_view_bugs', 'Can view details of own vtiger bug', 'registered', 'vtiger'), ( 'vtiger_p_view_cases', 'Can view details of own vtiger case', 'registered', 'vtiger'), ( 'vtiger_p_search_bugs', 'Can search own vtiger bugs', 'registered', 'vtiger'), ( 'vtiger_p_search_cases', 'Can search own vtiger cases', 'registered', 'vtiger'), ( 'vtiger_p_create_bugs', 'Can create vtiger bugs', 'registered', 'vtiger'), ( 'vtiger_p_create_cases', 'Can create vtiger cases', 'registered', 'vtiger'), ( 'vtiger_p_edit_bugs', 'Can edit own vtiger bugs', 'registered', 'vtiger'), ( 'vtiger_p_edit_cases', 'Can edit own vtiger cases', 'registered', 'vtiger');
INSERT INTO `tiki_preferences` ( `name` , `value` ) VALUES ( 'feature_crm', 'y');
INSERT INTO `tiki_events` ( `callback_type` , `order` , `event` , `file`, `object` , `method` ) VALUES ( '1', '50', 'user_registers', 'lib/registration/vtigerregistrationlib.php', 'vtigerregistrationlib', 'callback_vtiger_registration');
INSERT INTO `tiki_events` ( `callback_type` , `order` , `event` , `file`, `object` , `method` ) VALUES ( '3', '80', 'user_registers', 'lib/registration/vtigerregistrationlib.php', 'vtigerregistrationlib', 'callback_vtiger_save_registration');
CREATE TABLE `vtiger_portal_configuration` ( `id` int(11) NOT NULL auto_increment, `component` varchar(254) NOT NULL default 'GLOBAL', `name` varchar(50) NOT NULL default '', `value` text, `meta` text, PRIMARY KEY  (`id`), UNIQUE KEY `name` (`name`)) TYPE=MyISAM AUTO_INCREMENT=16 ;
INSERT INTO `vtiger_portal_configuration` VALUES (1, 'GLOBAL', 'server', "$soap_serv", 'default=http://www.example.com/vtigercrm/soap.php\r\ndescription=The complete URI for the soap.php file in your vtiger crm installation.\r\ntype=string\r\nlabel=\r\nrequired=1');
INSERT INTO `vtiger_portal_configuration` VALUES (2, 'GLOBAL', 'username', '$soap_user', 'default=\rdescription=The username that you will use to connect to vtiger crm.\rtype=string\rlabel=Username\rrequired=1');
INSERT INTO `vtiger_portal_configuration` VALUES (3, 'GLOBAL', 'password', md5('$soap_pass'), 'default=\rdescription=The password of the user denoted by ''username'' in the vtiger crm installation.\rtype=password\rlabel=Password\rrequired=1');
CREATE TABLE `vtiger_portal_bug_fields` ( `id` int(11) NOT NULL auto_increment, `field` varchar(255) NOT NULL default '', `name` varchar(255) default NULL, `type` varchar(255) NOT NULL default 'text', `show` tinyint(1) NOT NULL default '0', `inlist` tinyint(4) NOT NULL default '0', `size` varchar(10) default '10', `canedit` tinyint(1) default '0', `default` varchar(255) default NULL, `searchable` tinyint(4) NOT NULL default '0', `parameters` text, PRIMARY KEY  (`id`)) TYPE=MyISAM AUTO_INCREMENT=84 ;
INSERT INTO `vtiger_portal_bug_fields` VALUES (70, 'name', 'Name', 'varchar', 1, 1, '30', 1, '', 1, NULL);
INSERT INTO `vtiger_portal_bug_fields` VALUES (58, 'number', 'Number', 'int', 1, 1, '10', 0, '', 0, NULL);
INSERT INTO `vtiger_portal_bug_fields` VALUES (59, 'date_entered', 'Date Entered', 'datetime', 1, 0, '10', 0, '', 0, NULL);
INSERT INTO `vtiger_portal_bug_fields` VALUES (60, 'date_modified', 'Date Modified', 'datetime', 1, 1, '10', 0, '', 0, NULL);
INSERT INTO `vtiger_portal_bug_fields` VALUES (61, 'assigned_user_id', 'Assigned User Id', 'assigned_user_name', 0, 0, '10', 0, '', 0, NULL);
INSERT INTO `vtiger_portal_bug_fields` VALUES (62, 'priority', 'Priority', 'enum', 1, 1, '30', 1, 'Medium', 1, NULL);
INSERT INTO `vtiger_portal_bug_fields` VALUES (63, 'status', 'Status', 'enum', 1, 1, '30', 1, 'New', 1, NULL);
INSERT INTO `vtiger_portal_bug_fields` VALUES (64, 'resolution', 'Resolution', 'enum', 1, 1, '30', 1, '', 1, NULL);
INSERT INTO `vtiger_portal_bug_fields` VALUES (65, 'type', 'Type', 'enum', 1, 1, '30', 1, 'Defect', 1, NULL);
INSERT INTO `vtiger_portal_bug_fields` VALUES (66, 'release_name', 'Release Name', 'relate', 1, 1, '40', 1, '', 0, NULL);
INSERT INTO `vtiger_portal_bug_fields` VALUES (67, 'description', 'Description', 'text', 1, 0, '50', 1, '', 0, NULL);
INSERT INTO `vtiger_portal_bug_fields` VALUES (68, 'created_by', 'Created By', 'assigned_user_name', 0, 0, '10', 0, '', 0, NULL);
INSERT INTO `vtiger_portal_bug_fields` VALUES (69, 'modified_user_id', 'Modified User Id', 'assigned_user_name', 0, 0, '10', 0, '', 0, NULL);
INSERT INTO `vtiger_portal_bug_fields` VALUES (71, 'id', 'Id', 'id', 0, 0, '0', 0, '', 0, NULL);
INSERT INTO `vtiger_portal_bug_fields` VALUES (72, 'deleted', 'Deleted', 'bool', 0, 0, '0', 0, '', 0, NULL);
INSERT INTO `vtiger_portal_bug_fields` VALUES (73, 'release', 'Release', 'enum', 0, 0, '0', 0, '', 0, NULL);
INSERT INTO `vtiger_portal_bug_fields` VALUES (74, 'fixed_in_release', 'Fixed In Release', 'enum', 0, 0, '0', 0, '', 0, NULL);
INSERT INTO `vtiger_portal_bug_fields` VALUES (75, 'work_log', 'Work Log', 'text', 0, 0, '0', 0, '', 0, NULL);
INSERT INTO `vtiger_portal_bug_fields` VALUES (76, 'source', 'Source', 'enum', 0, 0, '0', 0, '', 0, NULL);
INSERT INTO `vtiger_portal_bug_fields` VALUES (77, 'product_category', 'Product Category', 'enum', 0, 0, '0', 0, '', 0, NULL);
INSERT INTO `vtiger_portal_bug_fields` VALUES (78, 'team_id', 'Team Id', 'team_list', 0, 0, '0', 0, '', 0, NULL);
INSERT INTO `vtiger_portal_bug_fields` VALUES (79, 'team_name', 'Team Name', 'team_list', 0, 0, '0', 0, '', 0, NULL);
INSERT INTO `vtiger_portal_bug_fields` VALUES (80, 'fixed_in_release_name', 'Fixed In Release Name', 'relate', 1, 1, '0', 0, '', 1, NULL);
INSERT INTO `vtiger_portal_bug_fields` VALUES (81, 'assigned_user_name', 'Assigned User Name', 'assigned_user_name', 1, 1, '0', 0, '', 1, NULL);
INSERT INTO `vtiger_portal_bug_fields` VALUES (82, 'modified_by_name', 'Modified By Name', 'assigned_user_name', 1, 0, '0', 0, '', 1, NULL);
INSERT INTO `vtiger_portal_bug_fields` VALUES (83, 'created_by_name', 'Created By Name', 'assigned_user_name', 1, 0, '0', 0, '', 1, NULL);
CREATE TABLE `vtiger_portal_case_fields` ( `id` int(11) NOT NULL auto_increment, `field` varchar(255) NOT NULL default '', `name` varchar(255) default NULL, `type` varchar(255) NOT NULL default 'text', `show` tinyint(1) NOT NULL default '0', `inlist` tinyint(4) NOT NULL default '0', `size` varchar(10) default '10', `canedit` tinyint(1) default '0', `default` varchar(255) default NULL, `searchable` tinyint(4) NOT NULL default '0', `parameters` text, PRIMARY KEY  (`id`)) TYPE=MyISAM AUTO_INCREMENT=90 ;
INSERT INTO `vtiger_portal_case_fields` VALUES (70, 'id', 'Id', 'id', 0, 0, '0', 0, '', 0, NULL);
INSERT INTO `vtiger_portal_case_fields` VALUES (71, 'number', 'Number', 'int', 1, 1, '0', 0, '', 1, NULL);
INSERT INTO `vtiger_portal_case_fields` VALUES (72, 'date_entered', 'Date Entered', 'datetime', 1, 0, '0', 0, '', 0, NULL);
INSERT INTO `vtiger_portal_case_fields` VALUES (73, 'date_modified', 'Date Modified', 'datetime', 1, 1, '0', 0, '', 0, NULL);
INSERT INTO `vtiger_portal_case_fields` VALUES (74, 'modified_user_id', 'Modified User Id', 'assigned_user_name', 0, 0, '0', 0, '', 0, NULL);
INSERT INTO `vtiger_portal_case_fields` VALUES (75, 'assigned_user_id', 'Assigned User Id', 'assigned_user_name', 0, 0, '0', 0, '', 0, NULL);
INSERT INTO `vtiger_portal_case_fields` VALUES (76, 'created_by', 'Created By', 'assigned_user_name', 0, 0, '0', 0, '', 0, NULL);
INSERT INTO `vtiger_portal_case_fields` VALUES (77, 'team_id', 'Team Id', 'team_list', 0, 0, '0', 0, '', 0, NULL);
INSERT INTO `vtiger_portal_case_fields` VALUES (78, 'team_name', 'Team Name', 'team_list', 0, 0, '0', 0, '', 0, NULL);
INSERT INTO `vtiger_portal_case_fields` VALUES (79, 'deleted', 'Deleted', 'bool', 0, 0, '0', 0, '', 0, NULL);
INSERT INTO `vtiger_portal_case_fields` VALUES (80, 'name', 'Name', 'varchar', 1, 1, '0', 1, '', 1, NULL);
INSERT INTO `vtiger_portal_case_fields` VALUES (81, 'account_name', 'Account Name', 'relate', 1, 0, '0', 0, '', 0, NULL);
INSERT INTO `vtiger_portal_case_fields` VALUES (82, 'account_id', 'Account Id', 'id', 0, 0, '0', 0, '', 0, NULL);
INSERT INTO `vtiger_portal_case_fields` VALUES (83, 'status', 'Status', 'enum', 1, 1, '0', 1, 'New', 1, NULL);
INSERT INTO `vtiger_portal_case_fields` VALUES (84, 'priority', 'Priority', 'enum', 1, 1, '0', 0, 'High', 1, NULL);
INSERT INTO `vtiger_portal_case_fields` VALUES (85, 'description', 'Description', 'text', 1, 0, '0', 1, '', 1, NULL);
INSERT INTO `vtiger_portal_case_fields` VALUES (86, 'resolution', 'Resolution', 'text', 1, 1, '0', 1, '', 1, NULL);
INSERT INTO `vtiger_portal_case_fields` VALUES (87, 'assigned_user_name', 'Assigned User Name', 'assigned_user_name', 1, 1, '0', 0, '', 0, NULL);
INSERT INTO `vtiger_portal_case_fields` VALUES (88, 'modified_by_name', 'Modified By Name', 'assigned_user_name', 1, 0, '0', 0, '', 0, NULL);
INSERT INTO `vtiger_portal_case_fields` VALUES (89, 'created_by_name', 'Created By Name', 'assigned_user_name', 1, 0, '0', 0, '', 0, NULL);

sql-remove:
DELETE FROM `users_permissions` WHERE `permName` LIKE 'vtiger_p_%';
DELETE FROM `tiki_preferences` WHERE name = 'feature_crm';
DELETE FROM `tiki_events` WHERE object = 'vtigerregistrationlib';
DROP TABLE `vtiger_portal_configuration`;
DROP TABLE `vtiger_portal_bug_fields`;
DROP TABLE `vtiger_portal_case_fields`;
