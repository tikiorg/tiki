// $Id$
// Override or add to specific default Bootstrap styles

// Obey the non-fixed width!
//body:not(.fixed_width) .page-header > div > div {
//  width: auto !important;
//}
body:not(.fixed_width) .container {
	padding-left: 15px;
	padding-right: 15px;
	width: auto;
}

//body:not(.fixed_width) .row {
//  margin-left: 0;
//  margin-right: 0;
//}
//body:not(.fixed_width) .row-middle {
//  margin-top: 0 !important;
//}

.row-middle {
	word-wrap: break-word;
}

.row.row-sidemargins-zero {
	margin-left: 0;
	margin-right: 0;
}

//legend + p,
//legend + .form-group,
//legend + input[type="hidden"] + .form-group,
legend + * {
	margin-top: 20px;
}

.tiki .page-header {
	border-bottom: none;
	margin: auto;
	padding-bottom: 0;
}

.topbar .navbar {
	margin-bottom: 0;
	border: none;
}

body.tiki.navbar-padding {
	padding-top: @navbar-fixed-height;
}

.panel-body ul.nav {
	overflow: visible;
}

.panel.panel-nocolor,
.panel-nocolor,
.panel-nocolor > .panel-heading,
.panel-nocolor > .panel-body,
.panel-nocolor > .panel-footer {
	border: none;
	background: transparent;
}

.tiki .popover {
	max-width: inherit;
}

.tiki .popover.tour-tour { max-width: 276px; }

.tiki .popover p:last-child {
	margin-bottom: 0;
}

.tiki .media-overflow-visible,
.tiki .media-overflow-visible .media-body {
	overflow: visible;
}

// Counteract the negative side margins that form.form-horizontal imposes on a "not horizontal" .form-group when there is a mix of form-group types; the only instance so far is on tiki-editpage.tpl.
.tiki .form-horizontal .margin-side-0 {
	margin-left: 0;
	margin-right: 0;
}

.tiki .col1 .table-responsive {
	width: 100%;
	margin-bottom: 15px;
	overflow-y: hidden;
	overflow-x: auto;
	-ms-overflow-style: -ms-autohiding-scrollbar;
	-webkit-overflow-scrolling: touch;
}

.tiki .table-responsive > .table {
	margin-bottom: 0;
	// Ensure the content doesn't wrap
	> thead,
	> tbody,
	> tfoot {
		> tr {
			> th,
			> td {
				white-space: normal;
			}
		}
	}
}

// columns with action icons in shouldn't wrap
.tiki .table-responsive > .table td.action {
  white-space: nowrap;
}


.layout_social,
.layout_social_modules,
.layout_fixed_top_modules {
	a.navbar-brand img {
		display: inline;
	}
	.navbar-inverse a {
		color: @navbar-inverse-link-color;
		&:hover {
			color: @navbar-inverse-link-hover-color;
			text-decoration: none;
		}
	}
	.navbar-inverse .sitetitle a {
		color: @navbar-inverse-brand-color;
		&:hover {
			color: @navbar-inverse-brand-hover-color;
			text-decoration: none;
		}
	}
	h1.sitetitle {
		font-size: 1.8rem;
		margin-top: 10px;
		margin-bottom: 0;
	}
	h1.sitetitle,
	.sitesubtitle {
		display: inline-block
	}

	#topbar_modules {
		display: inline-block;
	}
}

.layout_social_modules,
.layout_fixed_top_modules {
	#topbar_modules {
		display: block;
	}
}

.header_outer.navbar {
	margin-bottom: 0;
}

.navbar-fixed-top,
#navbar-collapse-social {
	.navbar {
		margin-bottom: 0;
		min-height: 32px;
	}
}

#topbar_modules_social { float: left; }

// https://github.com/twbs/bootstrap/issues/16120
.img-thumbnail {
	&.media-object {
		max-width: none;
	}
}

// Needed to align checkbox with label, which has a top margin (admin forms with labels on left of input)
.tiki .form-horizontal .form-group label + div > input[type="checkbox"] { margin-top: .8em; }
.tiki .form-horizontal .checkbox input[type="checkbox"] {margin-top: .4em;}


.control-label.text-left {
	text-align: left;
}

.form-horizontal .control-label.text-left {
	text-align: left;
}

.affix-top {position: static; }
.affix { position: fixed; top: 10px; }
.affix-bottom { position: absolute; left: 0!important; }

// default width "auto" causes the input to overflow outside of narrow divs.
.col-sm-2 .form-inline .form-control,
.col-md-2 .form-inline .form-control { width: 100%; }


///// User layout columns (module zones) switching / toggling (resurrected feature)

// When hidden we simply do not display the columns
.hide_zone_left #col2,
.hide_zone_right #col3 {
	display: none;
}

// percentage(( (100 * 10) / @grid-columns )); // why 83.3334% values below? when one col of md-2 of 12 grid is hidden it shows 10 grid-columns which is 83.33333333% - it will be different number if @grid-columns variable changes or #col2 and #col3 will span to more than 2 grid columns

// Overrides in case of 3-col layout
.hide_zone_left .col-md-8.col-md-push-2.col1 { // when left col is hidden
	left: 0;
	width: 83.3334%; // TODO: make it computed less variable?
}
.hide_zone_right .col-md-8.col-md-push-2.col1 { // when right col is hidden
	width: 83.3334%; // TODO: make it computed less variable?
}
.hide_zone_left.hide_zone_right .col-md-8.col-md-push-2.col1 { // when both are hidden
	width: 100%;
}

.hide_zone_right #col2 {
	right: 83.3334%; // TODO: make it computed less variable?
}

// Overrides in case of 2-col layout with no right column
.hide_zone_left .col-md-9.col-md-push-3.col1 {
	left: 0;
	width: 100%;
}

// Overrides in case of 2-col layout with no left colum
.hide_zone_right .col-md-9.col1 {
	width: 100%;
}

// Start overrides for wide side columns layout
// Overrides in case of 3-col layout
.hide_zone_left .col-md-6.col-md-push-3.col1 { // when left col is hidden
	left: 0;
	width: 75%; // 83.3334%; // TODO: make it computed less variable?
}
.hide_zone_right .col-md-6.col-md-push-3.col1 { // when right col is hidden
	width: 75%; // 83.3334%; // TODO: make it computed less variable?
}
.hide_zone_left.hide_zone_right .col-md-6.col-md-push-3.col1 { // when both are hidden
	width: 100%;
}

.hide_zone_right #col2.col-md-3.col-md-pull-6 {
	right: 75%; // TODO: make it computed less variable?
}

// Overrides in case of 2-col layout with no right column
.hide_zone_left .col-md-9.col-md-push-3.col1 {
	left: 0;
	width: 100%;
}

// Overrides in case of 2-col layout with no left column
.hide_zone_right .col-md-9.col1 {
	width: 100%;
}
// End overrides for wide side column layout


@media (max-width: @screen-sm-max) {
	#col1 {
		width: 100%;
	}
	.hide_zone_left #col2,
	.hide_zone_right #col3 {
		display: block;
	}
	.hide_zone_right #col2 {
		right: auto;
	}
	.toggle_zone {
		display: none;
	}
}

///// END of User layout columns

